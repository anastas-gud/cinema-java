<!DOCTYPE html>
<html lang="en" xmlns:layout="http://www.w3.org/1999/xhtml" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="/styles/styleSeat.css">
</head>
<body>
<div layout:fragment="content">
    <div class="header_div">
        <div style="margin-left: 3%">
            <a th:href="@{/films}" style="text-decoration:none; color: black">
                <div class="div_logo">
                    <p class="logo_cinema">CINEMA</p>
                    <p class="logo_centre">CENTRE</p>
                </div>
            </a>
        </div>
        <div sec:authorize="hasRole('ADMIN')">
            <form method="get" th:action="@{/admin/films}">
                <button class="button_films" type="submit">Фильмы</button>
            </form>
        </div>
        <div sec:authorize="hasRole('ADMIN')">
            <form method="get" th:action="@{/admin/cinema}">
                <button class="button_cinema" type="submit">Кинотеатры</button>
            </form>
        </div>
        <div sec:authorize="hasRole('ADMIN')">
            <form method="get" th:action="@{/admin/orders}">
                <button class="button_orders" type="submit">Заказы</button>
            </form>
        </div>
        <div sec:authorize="hasRole('ADMIN')">
            <form method="get" th:action="@{/admin/report}">
                <button class="button_report" type="submit">Отчет</button>
            </form>
        </div>
        <div sec:authorize="hasRole('ADMIN')">
            <form method="get" th:action="@{/admin/users}">
                <button class="button_users" type="submit">Пользователи</button>
            </form>
        </div>
        <div sec:authorize="hasRole('USER')">
            <form method="get" th:action="@{/account/orders}">
                <button class="button_users" type="submit">Мои билеты</button>
            </form>
        </div>
        <div style="margin-right: 3%">
            <form method="get" th:action="@{/account}">
                <button class="button_account" type="submit">Личный кабинет</button>
            </form>
        </div>
    </div>
    <br>
    <div style="background-color: mintcream">
        <form th:action="@{/admin/film/edit}" th:object="${film}" enctype="multipart/form-data" th:method="patch">
            <div class="film">
                <div style="margin-left: 4%; width: 600px">
                    <div style="width: 700px">
                        <h5>Название</h5>
                        <input class="input_film" type="text" id="name" th:field="*{title}"
                               name="name" required>
                        <h5>Жанр</h5>
                        <input class="input_film" type="text" id="genre" th:field="*{genre}"
                               name="genre" required>
                        <h5>Продолжительность</h5>
                        <input class="input_film" type="number" id="duration" th:field="*{duration}"
                               name="duration" min="0" required>
                        <h5>Дата начала аренды фильма</h5>
                        <input class="input_film" type="date" id="start" th:field="*{startRental}"
                               name="start" required>
                        <h5>Дата окончания аренды фильма</h5>
                        <input class="input_film" type="date" id="end" th:field="*{endRental}"
                               name="end" required>
                        <h5>Страна производства</h5>
                        <input class="input_film" type="text" id="country" th:field="*{country}"
                               name="country" required>
                        <h5>Описание</h5>
                        <textarea name="description"
                                  style="width: 80%" th:field="*{description}"
                                  type="text" id="description" rows="6" required></textarea>
                        <input type="hidden" name="id" id="id" th:field="*{id}">
                        <input type="hidden" name="filmSessions" id="filmSessions" th:field="*{filmSessions}">
                        <input type="hidden" name="poster" id="poster" th:field="*{posterFile}">
                    </div>
                </div>
                <div style="display: flex; flex-direction: column">
                    <img th:if="${film.getPosterFile() != null}" class="admin_add_film_image"
                         th:src="'/posters/' + ${film.getPosterFile()}" alt="" width="340px">
                    <input style="margin-top: 5%" type="file" name="file" id="file">
                </div>
            </div>
            <input class="admin_edit_save_button" type="submit" value="Сохранить">
        </form>
    </div>
</div>
</body>
</html>