<!DOCTYPE html>
<html lang="en" xmlns:layout="http://www.w3.org/1999/xhtml"
      xmlns:sec="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="/styles/styleSeat.css">
</head>
<body>
<div layout:fragment="content">
    <div>
        <div>
            <div class="header_div">
                <div style="margin-left: 3%">
                    <a th:href="@{/films}" style="text-decoration:none; color: black">
                        <div class="div_logo">
                            <p class="logo_cinema">CINEMA</p>
                            <p class="logo_centre">CENTRE</p>
                        </div>
                    </a>
                </div>
                <div sec:authorize="hasRole('ADMIN')">
                    <form method="get" th:action="@{/admin/films}">
                        <button class="button_films" type="submit">Фильмы</button>
                    </form>
                </div>
                <div sec:authorize="hasRole('ADMIN')">
                    <form method="get" th:action="@{/admin/cinema}">
                        <button class="button_cinema" type="submit">Кинотеатры</button>
                    </form>
                </div>
                <div sec:authorize="hasRole('ADMIN')">
                    <form method="get" th:action="@{/admin/orders}">
                        <button class="button_orders" type="submit">Заказы</button>
                    </form>
                </div>
                <div sec:authorize="hasRole('ADMIN')">
                    <form method="get" th:action="@{/admin/report}">
                        <button class="button_report" type="submit">Отчет</button>
                    </form>
                </div>
                <div sec:authorize="hasRole('ADMIN')">
                    <form method="get" th:action="@{/admin/users}">
                        <button class="button_users" type="submit">Пользователи</button>
                    </form>
                </div>
                <div sec:authorize="hasRole('USER')">
                    <form method="get" th:action="@{/account/orders}">
                        <button class="button_users" type="submit">Мои билеты</button>
                    </form>
                </div>
                <div style="margin-right: 3%">
                    <form method="get" th:action="@{/account}">
                        <button class="button_account" type="submit">Личный кабинет</button>
                    </form>
                </div>
            </div>
        </div>
        <div>
            <form th:action="@{/admin/films/add}" method="get">
                <input class="admin_add_film_button" type="submit" value="Добавить фильм">
            </form>
        </div>
        <div class="films">
            <div style="max-width: 230px; background-color: mintcream; border: solid black 3px; height: 420px" th:each="film : ${films}">
                <div style="border: #1A2238">
                    <div>
                        <img th:if="${film.getPosterFile() != null}" th:src="@{'/posters/'+${film.getPosterFile()}}" alt="" width="230px" height="328.95px">
                    </div>
                    <div style="margin-top: -25px">
                        <div>
                            <h4 style="font-size: 17px" th:text="${film.getTitle()}"></h4>
                            <p style="margin-top: -20px; font-size: 14px"><span>Жанр: </span><span th:text="${film.getGenre()}"></span></p>
                            <p style="margin-top: -18px; font-size: 14px"><span>Год выхода: </span><span th:text="${film.getStartRental().getYear()}"></span></p>
                            <p style="margin-top: -19px; font-size: 14px"><span>Страна: </span><span th:text="${film.getCountry()}"></span></p>
                        </div>
                        <div style="margin-top: -14px; display: flex; flex-direction: row; justify-content: space-around">
                            <form th:action="@{'/admin/films/get/' + ${film.getId()}}" method="get">
                                <button type="submit" style="background-color: #1A2238; border: solid #1A2238; color: white; border-radius: 4px">Подробнее</button>
                            </form>
                            <form th:action="@{'/admin/films/delete/' + ${film.getId()}}" th:method="delete">
                                <button type="submit" onclick="return confirm('Вы действительно хотите удалить фильм?');"
                                        style="background-color: #1A2238; border: solid #1A2238; color: white; border-radius: 4px">Удалить фильм</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>